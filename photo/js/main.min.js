function getScroll(){var e=document.querySelectorAll(".box"),t=e.length-1,o=e[t].offsetTop,i=document.documentElement.clientHeight||document.body.clientHeight,g=document.body.scrollTop;if(o<i+g)return!0}function imgLocation(){var e=document.querySelector(".container"),t=document.querySelectorAll(".box"),o=t[0].offsetWidth,i=document.body.clientWidth;console.log(t[0]);var g=Math.floor(i/o),n=g*o;e.style.width=n+"px";for(var l=[],m=0;m<t.length;m++)if(m<g)l[m]=t[m].offsetHeight;else{var c=Math.min.apply(null,l);t[m].style.position="absolute",t[m].style.top=c+"px";var r=getMinHieghtLocation(l,c);t[m].style.left=t[r].offsetLeft+"px",l[r]=l[r]+t[m].offsetHeight}}function getMinHieghtLocation(e,t){for(var o in e)if(e[o]===t)return o}window.onload=function(){imgLocation();var e=[{img:"1.jpg"},{img:"2.jpg"},{img:"3.jpg"},{img:"4.jpg"},{img:"5.jpg"},{img:"6.jpg"},{img:"7.jpg"},{img:"8.jpg"},{img:"9.jpg"},{img:"10.jpg"},{img:"11.jpg"},{img:"12.jpg"},{img:"13.jpg"},{img:"14.jpg"},{img:"15.jpg"},{img:"16.jpg"},{img:"17.jpg"},{img:"18.jpg"},{img:"19.jpg"},{img:"20.jpg"}];window.onscroll=function(){if(getScroll())for(var t=0;t<e.length;t++){var o=document.querySelector(".container"),i=document.createElement("div");i.className="box",o.appendChild(i);var g=document.createElement("img");g.src="img/"+e[t].img,i.appendChild(g)}imgLocation()}};