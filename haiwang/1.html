<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>海王</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no">
    <style id="cssAnimation"></style>
    <style>
        .all {
            position: absolute;
            top: 0;
            left: 0;
            width: 90%;
            height: 100%;
        }
        .bg{
            width: 100%;
            height: 100%;
        }
        .bg1{
            position: absolute;
            bottom: 0;
            left: 0;
            z-index: 99;
            animation:color 5s infinite linear;
        }
        @keyframes color {
            0% {
                left:-10px;
            }
            50% {
               left:10px;
            }
            100% {
                left:0px ;
            }
        }
        .tishi{
            position: absolute;
            left: 30%;
            top: 25%;
            width: 40%;
            height: 30%;
            background: rgba(255,255,255,0.5);
            border-radius: 10px;
        }
        #show,#show1{
            padding: 10px;
            color: #fff;
             width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div class="all" id="all">
    <img class="bg" src="img/2.jpg">
    <img class="bg1" src="img/3.png">
    <div class="tishi">
        <p id="word" style="display:none;">大家好，我是海王，来自海里。</p>
        <p id="show"></p>
        <p id="word1" style="display:none;">想要去海王探险，赶快去实名一下吧</p>
        <p id="show1"></p>
    </div>
</div>
<script src="jquery-3.3.1.js"></script>
<script>
    var width = document.documentElement.clientWidth;
    var height = document.documentElement.clientHeight;
    var screen_width = width; //屏幕宽度
    window.onload=function(){
        if (width < height) {
            screen_width = height; //如果 是竖屏，灵感的宽度就等于屏高
            var contentDOM = document.getElementById('all');
            contentDOM.style.width = height + 'px';
            contentDOM.style.height = width + 'px';
            contentDOM.style.top = (height - width) / 2 + 'px';
            contentDOM.style.left = 0 - (height - width) / 2 + 'px';
            contentDOM.style.transform = 'rotate(90deg)';
        }

            var story = document.getElementById('word');
            var s = document.getElementById('show');
            var i = 0;
            timer = setInterval(function () {
                s.innerHTML = story.innerHTML.substring(0, i);
                i++;
                if (s.innerHTML == story.innerHTML) {
                    clearInterval(timer);
                }
            }, 200);


    }
    var show=document.querySelector('#show')
    show.onclick=function(){
        this.style.display='none'
        var story1 = document.getElementById('word1');
        var s1 = document.getElementById('show1');
        var i = 0;
        timer1 = setInterval(function () {
            s1.innerHTML = story1.innerHTML.substring(0, i);
            i++;
            if (s1.innerHTML == story1.innerHTML) {
                clearInterval(timer1);
            }
        }, 200);
    }
    function orientationHandler(event) {
        var num=event.gamma.toFixed(6)
        var reg = new RegExp("^-?[0-9]*.?[0-9]*$");
        if ( reg.test(num) ) {
            var absVal = Math.abs(num);
            screen_width = height;
            var contentDOM = document.getElementById('all');
            if(num==absVal){
                contentDOM.style.width = height + 'px';
                contentDOM.style.height = width + 'px';
                contentDOM.style.top = (height - width) / 2 + 'px';
                contentDOM.style.left = 0 - (height - width) / 2 + 'px';
                contentDOM.style.transform = 'rotate(-90deg)';
                contentDOM.style.transition='.5s'
            }else{
                contentDOM.style.width = height + 'px';
                contentDOM.style.height = width + 'px';
                contentDOM.style.top = (height - width) / 2 + 'px';
                contentDOM.style.left = 0 - (height - width) / 2 + 'px';
                contentDOM.style.transform = 'rotate(90deg)';
                contentDOM.style.transition='.5s'
            }
        }
    }
    if (window.DeviceOrientationEvent) {
        window.addEventListener("deviceorientation", orientationHandler, false);
    }
</script>
</body>
</html>
