<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>海王</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no">
    <style id="cssAnimation"></style>
    <style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        .all{
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .wen{
            position: relative;
        }
        .wen,.all{
            overflow: hidden;
        }
        input,button{
            outline:none;
        }
        .Indiana{
            width: 60%;
            position: absolute;
            left: 20%;
            top: 2.3%;
            height: 95%;
        }
        .close img{
            width: 8%;
            height: 8%;
            position: absolute;
            margin-left: 91.5%;
            top: 12px;
        }
        .Indiana .jiabg{
            width: 100%;
            position: absolute;
        }
        .cw{
            width: 11%;
            position: absolute;
            left: 45%;
            top: 12px;
        }
        .tishi,.tishi11{
            position: absolute;
            width: 54%;
            top: 30%;
            left: 23%;
            background: url("img/tan.png") no-repeat;
            background-size: contain;
            height: 40%;
            line-height: 40%;
            padding: 10px;
            z-index: 999999;
            font-size:14px;
            color: #000;
            display: none;

        }
        .tishi span,.tishi11 span{
            font-weight: bold;
            text-align: center;
            display: block;
            /* line-height: 10em; */
            position: relative;
            top: 40%;
            height: 20px;

        }
        .tishi .tishimg,.tishi11 .tishimg1{
            width: 30px;
            height: 30px;
            position: absolute;
            right: 18px;
            top: -10px;
        }
        @media screen and (max-width:570px) {

            .chongright p {
                padding-top: 2px;
            }


            .shi .yu, .shi .xia {
                padding: 2px;
            }

            .xia div, .yu div {
                font-size: 12px;
            }
        }
        @media screen and (max-width:750px) {
            .Indiana {
                width: 70%;
                position: absolute;
                left: 15%;
                top: 2.3%;
                height: 95%;
            }
        }
        @media screen and (max-width: 700px) {
            .Indiana {
                width: 62%;
                position: absolute;
                left: 19%;
                top: 2.3%;
                height: 95%;
            }
        }
        @media screen and (max-width: 450px) {
            .Indiana {
                width: 69%;
                position: absolute;
                left: 19%;
                top: 2.3%;
                height: 95%;
            }
            .tishi .tishimg, .tishi11 .tishimg1{
                right: 0;
            }
        }
        /*@media screen and (max-height: 820px) {*/
            /*.Indiana {*/
                /*width:60%;*/
                /*position: absolute;*/
                /*left: 20%;*/
                /*top: 2.3%;*/
                /*height: 95%;*/
            /*}*/
        /*}*/
        @media screen and (max-width: 380px) {
            .Indiana {
                width:73%;
                position: absolute;
                left: 13.5%;
                top: 2.3%;
                height: 95%;
            }
        }
        .Indiana1{
            width: 98%;
            margin: auto;
            border-radius: 8px;
            position: absolute;
            top: 50px;
        }
        .Indianaleft{
            width: 80%;
            margin-left: 5%;
            float: left;
            background: #d7bda2;
        }
        .Indianaright{
            width: 15%;
            float: left;
            position: absolute;
            right: 0;
        }
        .Indiana1::after{
            display: table;
            content: '';
            clear: both;
        }
        .Indianaright div{
            background: #a6937c;
            padding: 5px 0;
            width: 80%;
            text-align: center;
            color: #fff;
            border-top-right-radius:10px ;
            border-bottom-right-radius:10px ;
            margin-bottom: 15%;
        }
        .Indianaright div:nth-of-type(1){
            background: #d7bda2;
        }
        .Indianal{
            width: 75%;
            float: left;
            padding: 10px;
        }
        .Indianar{
            width: 25%;
            float: left;
        }
        .duo{
            background: #fff;
            width: 30%;
            height: 60px;
            text-align: center;
            padding: 8px 4px;
            font-size: 12px;
            float: left;
            margin: 6px 4px;
            border-radius: 8px;
            border: solid 2px #fff;
        }
        .Indianaleft::after,.Indianal::after{
            display: table;
            content: '';
            clear: both;
        }
        .duo:nth-of-type(4),.duo:nth-of-type(5),.duo:nth-of-type(6){
            margin-bottom: 15px;
        }
        .duo1{
            width: 95%;
            text-align: center;
            border-radius: 10px;
            padding: 10px 0;
            margin:10px auto 0 auto;
            clear: both;
            color: #fff;
            background: #a6937c;
        }
        .duo1 h3{
            padding-bottom: 8px;
        }
        .duo1 img{
            position: relative;
            top: 2px;
            margin: 0 5px;
        }
        .Indianatop,.Indianatop1{
            background: #a6937c;
            width: 83%;
            height: 60%;
            margin: 15px 0;
            border-radius: 8px;
            position: relative;

        }
        .Indianabtn{
            background: #a6937c;
            width: 83%;
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            font-size: 12px;
            position: relative;
        }
        .Indianabtn p{
            background: #fff;
            padding: 10px 0;
            margin-bottom: 6px;
        }
        .Indianabtn b{
            color: #fff;
            border: 1px #fff solid;
            text-align: center;
            width: 17px;
            height: 17px;
            position: absolute;
            left: 2px;
            display: inline-block;
            border-radius: 15px;
        }
        .Indianabtn span{
            position: relative;
            left: 8px;
            color: #fff;
        }
        .shu,.shu1{
            background: #3b5f81;
            width:15px;
            height: 80%;
            margin: 15px auto 0 auto;
            border-radius: 10px;
            position: absolute;
            left: 40%;
        }
        .shuxia,.shuxia1{
            position: absolute;
            left: 65%;
            margin-top: 15px;
        }
        .shuxia span,.shuxia1 span{
            width: 0;
            height: 0;
            border-width: 8px 8px 0;
            border-style: solid;
            display: block;
            border-color: #3b5f81 transparent transparent;
            margin-bottom: 100%;
        }
        .Indianatop img,.Indianatop1 img{
            position: absolute;
            width: 44%;
            left: 27%;
            top: -15%;
            transition: 1s;
            z-index: 99;
        }
        /*@keyframes chou {*/
            /*20%{*/
                /*!*transform: rotateX(150deg);*!*/
            /*}*/
            /*100% {*/
               /*transform: rotateX(150deg);*/
                /*top: 98px;*/
            /*}*/
        /*}*/
        .tishi1,.tishi2,.tishi12{
            background: #c3a583;
            width: 30%;
            position: absolute;
            bottom: 20px;
            left: 35%;
            padding:8px 0;
            font-size: 12px;
            text-align: center;
            margin: auto;
            z-index: 999;
            border-radius: 5px;
        }
        .tishi2{
            display: none;
        }
        .Indianabtn div{
            width: 100%;
            position: absolute;
            top: -10px;
            left: -30px;
            z-index: 99;
            padding: 5px;
            text-align: left;
            display: none;
        }
        .Indianabtn div img{
            width: 110px;
            position: absolute;
            left: -36px;
            top: 0;
        }
        .Indianabtn div span{
            z-index: 99;
            color: #000;
            font-size: 12px;
            position: absolute;
            left: -36px;
            top: 5px;
            padding: 5px 5px;
            display: inline-block;
        }
        .duo strong{
            font-weight: 100;
        }
        .Indianatop1{
            display: none;
        }
        .shuxia1 span{
            margin-bottom: 30px;
        }
        @media screen and (max-width: 350px) {
            .Indiana {
                width:78%;
                position: absolute;
                left: 11%;
                top: 2.3%;
                height: 95%;
            }
            .duo1{
                padding: 2px 0;
            }
            .Indianabtn{
                padding: 3px;
            }
            .Indianaright div{
                margin-bottom: 8px;
            }
        }
        /*@media screen and (max-width: 750px) {*/
            /*.duo{*/
                /*margin: 12px 4px;*/
            /*}*/
        /*}*/
        /*@media screen and (max-width: 700px) {*/
            /*.duo{*/
                /*margin: 8px 4px;*/
            /*}*/
        /*}*/
        /*@media screen and (max-width: 600px) {*/
            /*.duo{*/
                /*margin: 2px;*/
            /*}*/
            /*.Indianaright div{*/
                /*padding: 4px 0;*/
                /*font-size: 12px;*/
            /*}*/
            /*.duo:nth-of-type(4), .duo:nth-of-type(5), .duo:nth-of-type(6){*/
                /*margin-bottom: 5px;*/
            /*}*/
            /*.duo1{*/
                /*padding: 4px 0;*/
            /*}*/
            /*.duo1 h3{*/
                /*font-size: 16px;*/
                /*padding-bottom: 4px;*/
            /*}*/
            /*.duo1 span{*/
                /*font-size: 14px;*/
            /*}*/
            /*.Indianatop{*/
                /*margin: 13px 0 10px;*/
            /*}*/
            /*.Indianatop img, .Indianatop1 img{*/
                /*left: 28%;*/
            /*}*/
            /*.shuxia span, .shuxia1 span{*/
                /*margin-bottom: 80%;*/
            /*}*/
            /*.Indianabtn p{*/
                /*padding: 0;*/
            /*}*/
        /*}*/
    </style>
</head>
<body>
<div class="all" id="all">
    <div class="wan" id="all1">
        <div class="Indiana">
            <img class="jiabg" src="img/chong.png" alt="">
            <img class="cw" src="img/Indiana.png">
            <div class="close">
                <img src="img/close.png" alt="">
            </div>
            <div class="Indiana1">
                    <div class="Indianaleft">
                            <div class="Indianal">
                                <div class="duo"><strong>白</strong>色神器</div>
                                <div class="duo"><strong>白</strong>色洗髓丹碎片10碎片</div>
                                <div class="duo"><strong>白</strong>色洗髓丹碎片20碎片</div>
                                <div class="duo"><strong>白</strong>色洗髓丹碎片30碎片</div>
                                <div class="duo"><strong>白</strong>色洗髓丹碎片50碎片</div>
                                <div class="duo"><strong>白</strong>色洗髓丹1个</div>
                                <div class="duo1">
                                    <h3>开始夺宝</h3>
                                    <span>消耗 <img src="img/ETH.jpg" alt="">0.01</span>
                                </div>
                            </div>
                            <div class="Indianar">
                                    <div class="Indianatop">
                                            <div class="shu"></div>
                                            <div class="shuxia">
                                                <span></span>
                                                <span></span>
                                                <span></span>
                                                <span></span>
                                                <span></span>
                                            </div>
                                            <img id="box" src="img/lagan.png" alt="">

                                    </div>
                                    <div class="Indianabtn">
                                            <p>宝箱</p>
                                            <b>?</b><span>免费开启</span>
                                            <div>
                                                <img src="img/kuang.png" alt="">
                                                <span>可开出各色神器、各色洗髓丹碎片</span>
                                            </div>
                                    </div>
                            </div>
                    </div>
                    <div class="Indianaright">
                        <div>白色</div>
                        <div>橙色</div>
                        <div>粉色</div>
                        <div>青色</div>
                        <div>蓝色</div>
                        <div>紫色</div>
                    </div>
            </div>
            <div class="tishi">
                <img class="tishimg" src="img/close.png" alt="">
                <span class="col"></span>
                <span class="pep"></span>
                <div class="tishi1">
                    确认
                </div>
                <div class="tishi2">
                    确认
                </div>
            </div>
            <div class="tishi11">
                <img class="tishimg1" src="img/close.png" alt="">
                <span class="col1"></span>
                <span class="pep1"></span>
                <div class="tishi12">
                    确认
                </div>
            </div>

        </div>
    </div>
</div>
<div id="show"></div>
<script src="js/jquery-3.3.1.js"></script>
<script src="js/index.js"></script>
<script>


    document.querySelector('.tishi2').style.display='none'
    var duo1=document.querySelector('.duo1')
    var duo=document.querySelectorAll('.duo')
    function du(nun){
        if(nun==1){
            var col=document.querySelector('.col');
            var pep=document.querySelector('.pep');
            col.innerHTML='确认花费1ETH夺宝吗？'
            $('.tishi').css('display','block')
            $('.tishi2').css('display','block')
            $('.tishi1').css('display','none')
            $('.tishi2').click(function () {
                $('.tishi').css('display','none')
                var t=setInterval(function () {
                    for(var f=0;f<duo.length;f++){
                        duo[f].style.border='solid 2px #fff';
                    }
                    var num=Math.floor(Math.random()*6);
                    duo[num].style.border='solid 2px #f00';
                    function prizeRand(oArr) {
                        var sum = 0;
                        var rand = 0;
                        var result = 0;
                        for (var i in oArr) {
                            sum += oArr[i][0];
                        }
                        for (var i in oArr) {
                            rand = Math.floor(Math.random()*sum + 1);
                            if (oArr[i][0] >= rand) {
                                result = oArr[i][0];
                                break;
                            } else {
                                sum -= oArr[i][0];
                            }
                        }
                        return result;
                    }
                    var oArr = {'0':[4.5, ''], '1':[6, ''], '2':[3, ''], '3':[0.75, ''], '4':[0.6, ''], '5':[0.15, '']};
                    var num1=prizeRand(oArr);
                    if(num1==4.5){
                        num1=0
                    }else if(num1==6){
                        num1=1
                    }else if(num1==3){
                        num1=2
                    }else if(num1==0.75){
                        num1=3
                    }else if(num1==0.6){
                        num1=4
                    }else if(num1==0.15){
                        num1=5
                    }
                    var col=document.querySelector('.col');
                    col.innerHTML=duo[num1].innerHTML
                   // duo[num1].style.border='solid 2px #f00';
                    var tt=setTimeout(function () {
                        clearInterval(t)
                        duo[num].style.border='solid 2px #fff';
                        $('.tishi').css('display','block')
                        $('.tishi1').css('display','block')
                        $('.tishi2').css('display','none')
                    },5000)
                    $('.tishi1').click(function () {
                        clearTimeout(tt)
                        var col=document.querySelector('.col');
                        col.innerHTML=''
                        for(var f=0;f<duo.length;f++){
                            duo[f].style.border='solid 2px #fff';
                        }
                        $('.tishi').css('display','none')
                        if(div2.style.top=='70%'){
                            div2.style.top='-15%';
                            div2.style.transform='rotateX(0deg)';
                        }
                    })
                },30)
            })
        }
        if(nun==2){
            var t=setInterval(function () {
                for(var f=0;f<duo.length;f++){
                    duo[f].style.border='solid 2px #fff';
                }
                var num2=Math.floor(Math.random()*6);
                duo[num2].style.border='solid 2px #f00';
                // var col=document.querySelector('.col');
                // col.innerHTML=duo[num].innerHTML

                function prizeRand1(oArr1) {
                    var sum = 0;
                    var rand = 0;
                    var result = 0;
                    for (var i in oArr1) {
                        sum += oArr1[i][0];
                    }
                    for (var i in oArr1) {
                        rand = Math.floor(Math.random()*sum + 1);
                        if (oArr1[i][0] >= rand) {
                            result = oArr1[i][0];
                            break;
                        } else {
                            sum -= oArr1[i][0];
                        }
                    }
                    return result;
                }
                var oArr1 = {'0':[4.5, ''], '1':[6, ''], '2':[3, ''], '3':[0.75, ''], '4':[0.6, ''], '5':[0.15, '']};
                var num3=prizeRand1(oArr1);
                if(num3==4.5){
                    num3=0
                }else if(num3==6){
                    num3=1
                }else if(num3==3){
                    num3=2
                }else if(num3==0.75){
                    num3=3
                }else if(num3==0.6){
                    num3=4
                }else if(num3==0.15){
                    num3=5
                }
               // duo[num3].style.border='solid 2px #f00';
                var col=document.querySelector('.col');
                col.innerHTML=duo[num3].innerHTML
                var tt=setTimeout(function () {
                    clearInterval(t)
                    duo[num2].style.border='solid 2px #fff';
                    $('.tishi').css('display','block')
                    $('.tishi1').css('display','block')
                    $('.tishi2').css('display','none')
                },5000)
                $('.tishi1').click(function () {
                    clearTimeout(tt)
                    var col=document.querySelector('.col');
                    col.innerHTML=''
                    for(var f=0;f<duo.length;f++){
                        duo[f].style.border='solid 2px #fff';
                    }
                    $('.tishi').css('display','none')
                    if(div2.style.top=='70%'){
                        div2.style.top='-15%';
                        div2.style.transform='rotateX(0deg)';
                    }
                })
            },50)
        }

    }
    function duu(){
        var col=document.querySelector('.col1');
        var pep=document.querySelector('.pep1');
        col.innerHTML='已为您夺宝，请勿重复！'
        $('.tishi11').css('display','block')
        setTimeout(function () {
            $('.tishi11').css('display','none')
        },2000)
    }
    duo1.onclick=function(){
        if(div2.style.top!='70%'){
            du(1)
        }else{
            duu()
        }
    }
    $('.Indianabtn p').click(function () {
        du(2)
    })

    $('.tishimg').click(function () {
        $('.tishi').css('display','none')
        $('.tishi1').css('display','block')
        $('.tishi2').css('display','none')
        if(div2.style.top=='70%'){
            div2.style.top='-15%';
            div2.style.transform='rotateX(0deg)';
        }
    })
    $('.tishimg1').click(function () {
        $('.tishi11').css('display','none')
        if(div2.style.top=='70%'){
            div2.style.top='-15%';
            div2.style.transform='rotateX(0deg)';
        }
    })

    $('.tishi12').click(function () {
        $('.tishi11').css('display','none')
        if(div2.style.top=='70%'){
            div2.style.top='-15%';
            div2.style.transform='rotateX(0deg)';
        }
    })

    var flag = false;
    var cur = {
        x:0,
        y:0
    }
    var nx,ny,dx,dy,x,y,y1 ;
    function down(){
        flag = true;
        var touch ;
        if(event.touches){
            touch = event.touches[0];
        }else {
            touch = event;
        }
        cur.y = touch.clientY;
        dy = div2.offsetTop;
    }
    function move(){
        if(flag){
            var touch ;
            if(event.touches){
                touch = event.touches[0];
            }else {
                touch = event;
            }
            ny = touch.clientY - cur.y;
            y = dy+ny;
            y1 = dy+ny;
           // if(document.querySelector('.Indianatop').style.display=='block'){
                if(y>70){
                    y=70;
                }
                if(y<-20){
                    y=-15
                }
                if(y>60){
                    div2.style.transform='rotateX(150deg)';
                }else{
                    div2.style.transform='rotateX(0deg)';
                }
                div2.style.top = y +"%";
                if(div2.style.top=='70%'){
                    setTimeout(function () {
                        du(1)
                    },1500)
                }
           // }

            document.addEventListener("touchmove",function(){
                event.preventDefault();
            },false);
        }
    }
    //鼠标释放时候的函数
    function end(){
        flag = false;
    }
    var div2 = document.getElementById("box");
    div2.addEventListener("touchstart",function(){
        if(document.querySelector('.tishi2').style.display=='none'){
            down();
        }else{
          duu()
        }
    },false)
    div2.addEventListener("touchmove",function(){
        if(document.querySelector('.tishi2').style.display=='none'){
            move();
        }else{
           duu()
        }
    },false)
    div2.addEventListener("touchend",function(){
        if(document.querySelector('.tishi2').style.display=='none'){
            end();
        }else{
           duu()
        }
    },false);




    document.querySelector('.Indianabtn b').onclick=function(){
        document.querySelector('.Indianabtn div').style.display='block';
        setTimeout(function () {
            document.querySelector('.Indianabtn div').style.display='none';
        },2000)
    }
    var Indianaright=document.querySelectorAll('.Indianaright div');
    var duospan=document.querySelectorAll('.duo strong');
    for(var h=0;h<Indianaright.length;h++){
        Indianaright[h].index=h;
        Indianaright[h].onclick=function(){
            for(var h=0;h<Indianaright.length;h++){
                Indianaright[h].style.background='#a6937c'
            }
            Indianaright[this.index].style.background='#d7bda2';
            for(var d=0;d<duo.length;d++){
               if(this.index==0){
                   duospan[d].innerHTML='白'
                   document.querySelector('.Indianabtn').style.display='block'
                   $('.shuxia span').css('margin-bottom','80%')
                    $('.Indianatop').css('height','70%')
                   $('#box').css('top','-15%')
                }else if(this.index==1){
                   duospan[d].innerHTML='橙';
                   document.querySelector('.Indianabtn').style.display='none'
                   $('.shuxia span').css('margin-bottom','150%')
                   $('#box').css('top','-15%')
                   $('.Indianatop').css('height','100%')
               }else if(this.index==2){
                    duospan[d].innerHTML='粉';
                   document.querySelector('.Indianabtn').style.display='none'
                   $('.shuxia span').css('margin-bottom','150%')
                   $('.Indianatop').css('height','100%')
                   $('#box').css('top','-15%')
                }else if(this.index==3){
                   duospan[d].innerHTML='青';
                   document.querySelector('.Indianabtn').style.display='none'
                   $('.shuxia span').css('margin-bottom','150%')
                   $('.Indianatop').css('height','100%')
                   $('#box').css('top','-15%')
               }else if(this.index==4){
                   duospan[d].innerHTML='蓝';
                   document.querySelector('.Indianabtn').style.display='none'
                   $('.shuxia span').css('margin-bottom','150%')
                   $('.Indianatop').css('height','100%')
                   $('#box').css('top','-15%')
               }else if(this.index==5){
                   duospan[d].innerHTML='紫';
                   document.querySelector('.Indianabtn').style.display='none';
                   $('.shuxia span').css('margin-bottom','150%')
                   $('.Indianatop').css('height','100%')
                   $('#box').css('top','-15%')
               }
            }
        }
    }







</script>
</body>
</html>
