<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>海王</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no">
    <style id="cssAnimation"></style>
    <link rel="stylesheet" href="css/index.css">
    <style>
        .yin{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,.5);
            display: none;
        }
        .tishi{
            position: absolute;
            width: 36%;
            top: 30%;
            left: 32%;
            background: url("img/tan.png") no-repeat;
            background-size: contain;
            height: 40%;
            line-height: 40%;
            padding: 10px;
            z-index: 999999;
            font-size:14px;
            color: #000;
            display:none;
        }
        .tishi span{
            font-weight: bold;
            text-align: center;
            display: block;
            position: relative;
            top: 40%;
        }
        .soda {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            perspective: 50vw;
            transform: translateZ(-99999px);
            transform-style: preserve-3d;
        }

        .bubble {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-image: radial-gradient(rgba(255, 255, 255, 0.3) 60%, rgba(255, 255, 255, 1) 80%);
            transform: translateX(-50%);
            will-change: top, left;
        }

        .bubble::after {
            content: '';
            position: absolute;
            top: 20%;
            right: 25%;
            width: 33%;
            height: 33%;
            border: 3px solid;
            border-color: rgba(255, 255, 255, 0.8) transparent transparent transparent;
            border-radius: 50%;
            transform: rotate(45deg);
        }
    </style>
</head>
<body>
<div class="all" id="all">
    <img class="bg" id="aa" src="img/3.jpg">
    <progress max="100" value="0" id="pg"></progress>
    <div class="wan" id="all1" style="display:none">
        <img class="bg1" src="img/haiwang.png" alt="">
        <img class="bg2" src="img/haitun.png" alt="">
        <img class="bg3" src="img/renyu.png" alt="">
        <img class="bg8" src="img/bg.png" alt="">
        <img class="bg4" src="img/beike.png" alt="">
        <img class="bg5" src="img/beikefaguang.png" alt="">
        <img class="bg6" src="img/haibao.png" alt="">
        <img class="bg7" src="img/zhenzhu.png" alt="">
        <img class="bg9" src="img/hai.png" alt="">
<!--         <div class="soda"></div> -->
        <div class="biao">
            <form action="" method="post" id="myform">
                <label for="">
                    账 号：<input type="text" name="username" id="user">
                </label>
                <br>
                <label for="">
                    密 码：<input type="password" name="password" id="pass">
                </label>
                <p>
                    <input type="checkbox" checked="checked"><img id="tong" src="img/dui.png" class="tt" alt=""><span style="padding-left:22px;position: relative;top: 5px;">已阅读并同意《用户协议》</span>
                </p>
                <div class="zhu">
                    <img src="img/zhu.png" alt="">
                    <span>注册</span>
                </div>
                <div class="deng">
                    <img src="img/zhu.png" alt="">
                    <span>登陆</span>
                </div>
            </form>
        </div>
        <img class="bg10" src="img/pao.png" alt="">
        <img class="bg11" src="img/pao.png" alt="">
        
        <div class="biao1">
            <img class="zh" src="img/zhuce.png" alt="">
            <form action="" method="post">
                <label for="">
                    <i class="one"></i>
                    <input type="number" placeholder="请输入手机号" id="tel">
                </label>
                <label for="">
                    <i class="two"></i>
                    <input type="password" placeholder="请输入密码">
                </label>
                <label for="">
                    <i class="two"></i>
                    <input type="text" placeholder="请输入支付密码">
                </label>
                <label for="">
                    <i class="two"></i>
                    <input type="text" placeholder="请输入推荐码">
                </label>

                <label for="">
                    <i class="three"></i>
                    <input style="width:47%;" type="text" placeholder="请输入验证码">
                    <span class="fyzm">发送验证码</span>
                </label>
                <p>已有账号？<span class="liji">立即登录</span></p>
                <div class="zhu zhu1">
                    <img src="img/zhu.png" alt="">
                    <span>注册</span>
                </div>
            </form>
        </div>
        <div class="yin"></div>
        <div class="tishi">
            <!--<img class="tishimg" src="img/close.png" alt="">-->
            <span>注册成功</span>
            <!--<img class="tishic" src="img/queren.png" alt="">-->
        </div>

    </div>
</div>
<script src="js/jquery-3.3.1.js"></script>
<script src="js/index.js"></script>
<script>
    var _PageHeight = document.documentElement.clientHeight,
        _PageWidth = document.documentElement.clientWidth;
    var _LoadingTop = _PageHeight > 61 ? (_PageHeight - 61) / 2 : 0,
        _LoadingLeft = _PageWidth > 215 ? (_PageWidth - 215) / 2 : 0;
    var pg=document.getElementById('pg');
    setInterval(function(e){
        if(pg.value!=100) pg.value++;
    },10);
    //监听加载状态改变
    document.onreadystatechange = completeLoading;
    //加载状态为complete时移除loading效果
    function completeLoading() {
        if (document.readyState === "complete") {
            var t=setInterval(function () {
                if(document.getElementById('pg').value==100){
                    var all=document.querySelector('#all')
                    var bg=document.querySelector('#pg')
                    var aa=document.querySelector('#aa')
                    all.removeChild(bg)
                    all.removeChild(aa)
                    document.querySelector('.wan').style.display='block'
                    clearInterval(t)
                }
            },100)
        }
    }
document.querySelector('#tong').onclick=function () {
        if(this.className=='tt'){
            this.src="img/dui1.png";
            this.className='t1'
        }else if(this.className=='t1'){
            this.src="img/dui.png";
            this.className='tt'
        }

}
document.querySelector('.deng').onclick=function(){
        if(document.querySelector('#user').value==''){
            document.querySelector('.tishi span').innerHTML='请正确填写用户名';
            document.querySelector('.tishi').style.display='block';
            var tt=setTimeout(function () {
                document.querySelector('.tishi').style.display='none';
            },3000)
        }else if(document.querySelector('#pass').value==''){
            document.querySelector('.tishi span').innerHTML='请正确填写密码';
            document.querySelector('.tishi').style.display='block';
            var tt=setTimeout(function () {
                document.querySelector('.tishi').style.display='none';
            },3000)
        }else if(document.querySelector('#tong').className == 't1'){
            document.querySelector('.tishi span').innerHTML='请勾选用户协议';
            document.querySelector('.tishi').style.display='block';
            var tt=setTimeout(function () {
                document.querySelector('.tishi').style.display='none';
            },3000)
        }else{
            document.querySelector('#myform').submit();
        }
}
document.querySelector('.zhu').onclick=function(){
       document.querySelector('.yin').style.display='block'
        if(window.width>750){
            document.querySelector('.biao1').style.top='1%';
        }else if(window.width<750){
            document.querySelector('.biao1').style.top='1%';
        }
}
    document.querySelector('.liji').onclick=function(){
        document.querySelector('.biao1').style.top='-2000px';
       document.querySelector('.yin').style.display='none'
    }

    document.querySelector('.yin').onclick=function(){
        document.querySelector('.biao1').style.top='-2000px';
        document.querySelector('.yin').style.display='none'
    }

    document.querySelector('.fyzm').onclick=function(){
        var s=60;
        var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;
        var tel=document.querySelector('#tel');
        if(tel.value==''|| myreg.test(tel.value)=== false){
            document.querySelector('.tishi span').innerHTML='请正确填写手机号';
            document.querySelector('.tishi').style.display='block';
            var tt=setTimeout(function () {
                document.querySelector('.tishi').style.display='none';
            },2000)
        } else{
            if(document.querySelector('.fyzm').innerHTML!='发送验证码'){
                document.querySelector('.tishi span').innerHTML='请不要重复发送验证码';
                document.querySelector('.tishi').style.display='block';
                var tt=setTimeout(function () {
                    document.querySelector('.tishi').style.display='none';
                },2000)
            }else if(document.querySelector('.fyzm').innerHTML=='发送验证码'){
                var t=setInterval(function () {
                    document.querySelector('.fyzm').innerHTML=s+'s';
                    s--
                    if(s==0){
                        document.querySelector('.fyzm').innerHTML='发送验证码'
                        clearInterval(t)
                    }
                },1000)
            }
        }
    }
document.querySelector('.zhu1').onclick=function(){
    document.querySelector('.tishi span').innerHTML='注册成功';
    document.querySelector('.tishi').style.display='block';
        var tt=setTimeout(function () {
            document.querySelector('.tishi').style.display='none';
    },3000)
}



    const floatOn = options => {
        let el = options.el,
            x = options.x,
            xIsPos = options.xIsPos || Math.floor(Math.random()),
            updateX = options.updateX || Math.floor(Math.random()),
            curTop = parseInt(el.style.top),
            curLeft = parseInt(el.style.left);

        if (curTop > -50) {
            el.style.top = `${--curTop}px`;
        } else {
            el.style.top = `${innerHeight + 50}px`;
        }

        if (updateX) {
            if (xIsPos) {
                if (curLeft > x + 10) {
                    xIsPos = false;
                } else {
                    el.style.left = `${curLeft + 1}px`;
                }
            } else {
                if (curLeft < x - 10) {
                    xIsPos = true;
                } else {
                    el.style.left = `${--curLeft}px`;
                }
            }
        }

        updateX = updateX ? false : true;

        requestAnimationFrame(
            floatOn.bind(null, { el: el, x: x, xIsPos: xIsPos, updateX: updateX })
        );
    };

    class Bubble {
        constructor(target, i) {
            this.bubble = document.createElement("div");
            this.bubble.classList.add("bubble");
            this.x = Math.floor(Math.random() * innerWidth);
            this.y = Math.floor(Math.random() * innerHeight);
            this.scale = Math.random();
            this.pos = Math.round(Math.random());

            this.bubble.style.top = `${this.y}px`;
            this.bubble.style.left = `${this.x}px`;
            this.bubble.style.transform = `translateZ(${
                this.pos ? "" : "-"
                }${this.scale.toFixed(2) * 1000}px)`;

            setTimeout(() => {
                target.appendChild(this.bubble);
            }, i * 50);
            setTimeout(floatOn.bind(null, { el: this.bubble, x: this.x }), i * 50);
        }
    }

    for (let i = 0; i < 10; i++) {
        new Bubble(document.querySelector(".soda"), i);
    }
</script>
</body>
</html>
